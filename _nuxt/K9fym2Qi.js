import{U,V as N,S as Z,f as Y,W as k,X as ee,Y as $,h as L,n as H,r as O,Q as I}from"./CPqKy37z.js";function Q(e){return U()?(N(e),!0):!1}function b(e){return typeof e=="function"?e():Z(e)}const te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,oe=e=>ne.call(e)==="[object Object]",D=()=>{};function q(e,t){function n(...r){return new Promise((a,c)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(c)})}return n}function re(e,t={}){let n,r,a=D;const c=s=>{clearTimeout(s),a(),a=D};return s=>{const u=b(e),l=b(t.maxWait);return n&&c(n),u<=0||l!==void 0&&l<=0?(r&&(c(r),r=null),Promise.resolve(s())):new Promise((f,o)=>{a=t.rejectOnCancel?o:f,l&&!r&&(r=setTimeout(()=>{n&&c(n),r=null,f(s())},l)),n=setTimeout(()=>{r&&c(r),r=null,f(s())},u)})}}function se(...e){let t=0,n,r=!0,a=D,c,v,s,u,l;!ee(e[0])&&typeof e[0]=="object"?{delay:v,trailing:s=!0,leading:u=!0,rejectOnCancel:l=!1}=e[0]:[v,s=!0,u=!0,l=!1]=e;const f=()=>{n&&(clearTimeout(n),n=void 0,a(),a=D)};return d=>{const p=b(v),h=Date.now()-t,S=()=>c=d();return f(),p<=0?(t=Date.now(),S()):(h>p&&(u||!r)?(t=Date.now(),S()):s&&(c=new Promise((E,w)=>{a=l?w:E,n=setTimeout(()=>{t=Date.now(),r=!0,E(S()),f()},Math.max(0,p-h))})),!u&&!n&&(n=setTimeout(()=>r=!0,p)),r=!1,c)}}function le(e){return $()}function ie(e,t=200,n={}){return q(re(t,n),e)}function ce(e,t=200,n=!1,r=!0,a=!1){return q(se(t,n,r,a),e)}function J(e,t=!0,n){le()?Y(e,n):t?e():k(e)}const j=te?window:void 0;function x(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}function G(...e){let t,n,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,a]=e,t=j):[t,n,r,a]=e,!t)return D;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const c=[],v=()=>{c.forEach(f=>f()),c.length=0},s=(f,o,d,p)=>(f.addEventListener(o,d,p),()=>f.removeEventListener(o,d,p)),u=H(()=>[x(t),b(a)],([f,o])=>{if(v(),!f)return;const d=oe(o)?{...o}:o;c.push(...n.flatMap(p=>r.map(h=>s(f,p,h,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),v()};return Q(l),l}function ue(){const e=O(!1),t=$();return t&&Y(()=>{e.value=!0},t),e}function ae(e){const t=ue();return L(()=>(t.value,!!e()))}function fe(e,t,n={}){const{window:r=j,...a}=n;let c;const v=ae(()=>r&&"ResizeObserver"in r),s=()=>{c&&(c.disconnect(),c=void 0)},u=L(()=>{const o=b(e);return Array.isArray(o)?o.map(d=>x(d)):[x(o)]}),l=H(u,o=>{if(s(),v.value&&r){c=new ResizeObserver(t);for(const d of o)d&&c.observe(d,a)}},{immediate:!0,flush:"post"}),f=()=>{s(),l()};return Q(f),{isSupported:v,stop:f}}function ve(e,t={width:0,height:0},n={}){const{window:r=j,box:a="content-box"}=n,c=L(()=>{var o,d;return(d=(o=x(e))==null?void 0:o.namespaceURI)==null?void 0:d.includes("svg")}),v=O(t.width),s=O(t.height),{stop:u}=fe(e,([o])=>{const d=a==="border-box"?o.borderBoxSize:a==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;if(r&&c.value){const p=x(e);if(p){const h=p.getBoundingClientRect();v.value=h.width,s.value=h.height}}else if(d){const p=Array.isArray(d)?d:[d];v.value=p.reduce((h,{inlineSize:S})=>h+S,0),s.value=p.reduce((h,{blockSize:S})=>h+S,0)}else v.value=o.contentRect.width,s.value=o.contentRect.height},n);J(()=>{const o=x(e);o&&(v.value="offsetWidth"in o?o.offsetWidth:t.width,s.value="offsetHeight"in o?o.offsetHeight:t.height)});const l=H(()=>x(e),o=>{v.value=o?t.width:0,s.value=o?t.height:0});function f(){u(),l()}return{width:v,height:s,stop:f}}const C=new Map;function pe(e){const t=U();function n(s){var u;const l=C.get(e)||new Set;l.add(s),C.set(e,l);const f=()=>a(s);return(u=t==null?void 0:t.cleanups)==null||u.push(f),f}function r(s){function u(...l){a(u),s(...l)}return n(u)}function a(s){const u=C.get(e);u&&(u.delete(s),u.size||c())}function c(){C.delete(e)}function v(s,u){var l;(l=C.get(e))==null||l.forEach(f=>f(s,u))}return{on:n,once:r,off:a,emit:v,reset:c}}const X=1;function he(e,t={}){const{throttle:n=0,idle:r=200,onStop:a=D,onScroll:c=D,offset:v={left:0,right:0,top:0,bottom:0},eventListenerOptions:s={capture:!1,passive:!0},behavior:u="auto",window:l=j,onError:f=i=>{console.error(i)}}=t,o=O(0),d=O(0),p=L({get(){return o.value},set(i){S(i,void 0)}}),h=L({get(){return d.value},set(i){S(void 0,i)}});function S(i,y){var m,R,M,_;if(!l)return;const g=b(e);if(!g)return;(M=g instanceof Document?l.document.body:g)==null||M.scrollTo({top:(m=b(y))!=null?m:h.value,left:(R=b(i))!=null?R:p.value,behavior:b(u)});const W=((_=g==null?void 0:g.document)==null?void 0:_.documentElement)||(g==null?void 0:g.documentElement)||g;p!=null&&(o.value=W.scrollLeft),h!=null&&(d.value=W.scrollTop)}const E=O(!1),w=I({left:!0,right:!1,top:!0,bottom:!1}),T=I({left:!1,right:!1,top:!1,bottom:!1}),P=i=>{E.value&&(E.value=!1,T.left=!1,T.right=!1,T.top=!1,T.bottom=!1,a(i))},K=ie(P,n+r),B=i=>{var y;if(!l)return;const m=((y=i==null?void 0:i.document)==null?void 0:y.documentElement)||(i==null?void 0:i.documentElement)||x(i),{display:R,flexDirection:M}=getComputedStyle(m),_=m.scrollLeft;T.left=_<o.value,T.right=_>o.value;const g=Math.abs(_)<=(v.left||0),W=Math.abs(_)+m.clientWidth>=m.scrollWidth-(v.right||0)-X;R==="flex"&&M==="row-reverse"?(w.left=W,w.right=g):(w.left=g,w.right=W),o.value=_;let A=m.scrollTop;i===l.document&&!A&&(A=l.document.body.scrollTop),T.top=A<d.value,T.bottom=A>d.value;const F=Math.abs(A)<=(v.top||0),V=Math.abs(A)+m.clientHeight>=m.scrollHeight-(v.bottom||0)-X;R==="flex"&&M==="column-reverse"?(w.top=V,w.bottom=F):(w.top=F,w.bottom=V),d.value=A},z=i=>{var y;if(!l)return;const m=(y=i.target.documentElement)!=null?y:i.target;B(m),E.value=!0,K(i),c(i)};return G(e,"scroll",n?ce(z,n,!0,!1):z,s),J(()=>{try{const i=b(e);if(!i)return;B(i)}catch(i){f(i)}}),G(e,"scrollend",P,s),{x:p,y:h,isScrolling:E,arrivedState:w,directions:T,measure(){const i=b(e);l&&i&&B(i)}}}export{ve as a,fe as b,ie as c,pe as d,he as u};
